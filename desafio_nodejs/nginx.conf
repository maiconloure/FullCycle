server {
        listen 80;
        listen [::]:80;

        root /var/www/html;
        # index index.html index.htm index.nginx-debian.html;

        # server_name example.com www.example.com;

        location / {
                proxy_pass http://app:3000;
        }

        location ~ /.well-known/acme-challenge {
                allow all;
                root /var/www/html;
        }
}

http {
  server {
    listen 80;
    listen [::]:80;

    root /var/www/html;
    index index.html index.htm index.nginx-debian.html;

    # server_name example.com www.example.com;

    location / {
      proxy_pass http://app:3000;
      rewrite ^/(.*)$ $1 break;
    }

  }

  server {
    server_name another.server.url;

    location / {
      proxy_pass http://app:3000;
      rewrite ^/(.*)$ $1 break;
    }

  }
}